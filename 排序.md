# 排序舞（快速排序）

## 简介

排序分许多 **“轮”** 进行，每轮选择一个 **“轴点”**，**轴点 **依次与其他元素 **对比**，并在 **逆序** 时 **交换位置** ，直至该轴点 **就位**，本轮结束。

**已就位的点** 被特殊标记，此后 **不再参与** 对比与交换。

原数组被 **已就位的点** 划分成几个 **不连续的区域**，每轮结束后，从 **最左边** 的 **区域** 开始，进行 **下一轮排序**。

直至 **所有点就位**，排序结束。



## 每轮的操作

每一轮，最左边的元素被选为 **“轴点 P”**，正在对比的另一个点称之为 Q 。

首先选择最右边元素作为 Q，与 P 对比。

然后寻找下一个 Q 与 P 对比，直至 P 与 Q 相遇，P 才能归队。

此时称 P 已 **就位**，P 点的演员向后转，背对观众，进入下一轮。

#### 对比操作

对比 P，Q 两元素时，两位演员同时出队，随音乐摇摆片刻，若 P，Q 顺序 ，则 Q 直接归队，否则，先将 P，Q 互换，Q 再归队。

#### 谁是下一个 Q ？

想象空气中有两个箭头，分别指向 P 与 Q，每轮对比后，**Q 对应的箭头** 向 **P** **移动**，箭头所指元素即为 **下一个 Q **，若两个箭头相遇，则本轮结束。

### 伪代码：

```c++
do {
    对比(P, Q):
        若顺序，Q的演员归队
        若逆序，交换P,Q后，Q的演员归队
          
  	指向Q的箭头 向 P的方向 移动   
          
} while (两个箭头未重合)
```



暂时不理解也没关系，动画已经在做了……



## 各数字操作次数统计

| 数字 | 对比次数 | 交换次数 |
| :--: | :------: | :------: |
|  0   |    3     |    1     |
|  1   |    3     |    1     |
|  2   |    5     |    3     |
|  3   |    3     |    1     |
|  4   |    3     |    0     |
|  5   |    10    |    4     |
|  6   |    3     |    1     |
|  7   |    3     |    0     |
|  8   |    3     |    3     |
|  9   |    3     |    1     |
|  10  |    3     |    2     |

待会会发布一个文档，请自行选择想要表演的数组。







## 说明

红圈内的元素为当前的 “轴点”；

箭头所指元素为当前正在对比的元素，无数字的箭头指向轴点，有数字 的箭头指向另一元素；

箭头下的数字表示对比顺序，先对比箭头1，再对比箭头2，……；

蓝色箭头表示当前对比结果为顺序，红色箭头表示逆序，需要交换；

数组中红色的数字表示该元素已 “就位” ，演员需向后转，背对观众。
